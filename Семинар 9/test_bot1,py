import telebot
from telebot import types

bot = telebot.TeleBot("5516433386:AAGIRNxLwMSR-UZTmoeu0fWlyIHVlCrpoN4")

# @bot.message_handler(commands = ["start"])
# def start(message):
#     bot.send_message(message.chat.id,f"{message.from_user.first_name}, ПРИВЕТ !!!")

# @bot.message_handler(commands = ["start"])
# def start(message):
#     bot.send_message(message.chat.id,f"{message.from_user.first_name}, ПРИВЕТ !!!")

# @bot.message_handler(commands = ["start"])
# def startp(message):
#     bot.send_message(message.chat.id,"введи два числа для их суммы: ")
#     bot.register_next_step_handler(message, summa)

def summa(message):
    summ = sum(list(map(int,message.text.split())))
    bot.send_message(message.chat.id, str(summ))
    button(message)

def raznost(message):
    num = list(map(int,message.text.split()))
    diff = num[0] - num[1]
    bot.send_message(message.chat.id, str(diff))
    button(message)

# @bot.message_handler(commands = ["sweets"])
# def sweets(message):
#     bot.send_message(message.chat.id,"введите количество конфет: ")
#     bot.register_next_step_handler(message, input_sweet)
#     bot.send_message(message.chat.id, str(user_sweets))

# user_sweets = 0

# def input_sweet(message):
#     global user_sweets
#     user_sweets = int(message.text)

@bot.message_handler(commands = ["start"])
def start(message):
    bot.send_message(message.chat.id,f"/button")

@bot.message_handler(commands = ["button"])
def button(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    but1 = types.KeyboardButton("сумма")
    but2 = types.KeyboardButton("разность")
    markup.add(but1)
    markup.add(but2)
    bot.send_message(message.chat.id, "Выбери ниже", reply_markup=markup)

@bot.message_handler(content_types=["text"])
def controller(message):
    if message.text == "сумма":
        bot.send_message(message.chat.id,"введи два числа для их суммы: ")
        bot.register_next_step_handler(message, summa)
    if message.text == "разность":
        bot.send_message(message.chat.id,"введи два числа для их разности: ")
        bot.register_next_step_handler(message, raznost)

bot.infinity_polling()